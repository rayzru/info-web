# Инструкция по добавлению сантехника в справочник

## Данные для добавления

**Должность**: Сантехник
**ФИО**: Кащеев Алексей Петрович
**Адрес**: Ларина 45/6
**Телефон**: 8-951-516-26-46

---

## Способ 1: Через админ-панель (Рекомендуется)

1. Запустите приложение:
   ```bash
   bun run dev
   ```

2. Откройте админ-панель справочника:
   ```
   http://localhost:3000/admin/directory
   ```

3. Нажмите кнопку **"Добавить запись"**

4. Заполните форму:
   - **Тип записи**: `Контакт`
   - **Название**: `Сантехник`
   - **Описание**: `Сантехник управляющей компании`

5. В разделе **Контакты** добавьте:

   **Контакт 1 (телефон)**:
   - Тип: `Телефон`
   - Значение: `8-951-516-26-46`
   - Подпись: `Телефон`
   - ФИО / Должность: `Кащеев Алексей Петрович`
   - ✓ Основной контакт

   **Контакт 2 (адрес)**:
   - Тип: `Адрес`
   - Значение: `Ларина 45/6`
   - Подпись: `Адрес`

6. В разделе **Категории записи** выберите подходящие теги:
   - `Управляющая компания` (если есть)
   - `Сантехник` (если есть)
   - или создайте новые категории

7. Нажмите **"Создать запись"**

---

## Способ 2: Через SQL (если БД доступна)

Если у вас есть доступ к базе данных напрямую, выполните SQL-скрипт:

```bash
# Если используется Docker Compose
docker compose exec database psql -U postgres -d sr2-community -f /path/to/script.sql

# Или напрямую через psql (если PostgreSQL запущен локально)
psql -h 127.0.0.1 -U postgres -d sr2-community -f scripts/add-santehnik-kashchev.sql
```

SQL-скрипт находится в: `scripts/add-santehnik-kashchev.sql`

---

## Способ 3: Через TypeScript скрипт

**Внимание**: Текущая проблема - порт 5432 занят OrbStack PostgreSQL с другим паролем.

Решения:
1. Остановить OrbStack PostgreSQL временно
2. Изменить порт в docker-compose.yml на другой (например, 5433)
3. Использовать правильный DATABASE_URL для текущей БД

После исправления подключения:
```bash
bun run scripts/add-santehnik.ts
```

---

## Проверка результата

После добавления записи проверьте:

1. **Список записей в админке**:
   ```
   http://localhost:3000/admin/directory
   ```

2. **Публичная страница записи**:
   ```
   http://localhost:3000/info/santehnik-kashchev
   ```

3. **Поиск в справочнике**:
   - Откройте справочник на сайте
   - Найдите "Сантехник" через поиск
   - Убедитесь, что отображается корректная информация

---

## Дополнительные рекомендации

### Категории (теги)

Рекомендуется создать/назначить следующие категории:

- `Управляющая компания` (scope: core)
  - `Сантехник` (дочерняя категория)
- `Строение 45/6` (для привязки к адресу, если используется)

### Теги на уровне контакта

Если в системе используется детализация по строениям/подъездам, можно добавить теги на уровне контакта:
- `stroenie-45` (если такой тег существует)
- `podezd-6` (если нужна детализация по подъездам)

---

## Готово! ✅

Сантехник Кащеев Алексей Петрович добавлен в справочник.
Жители смогут найти его контакты через поиск или категорию "Сантехник".
